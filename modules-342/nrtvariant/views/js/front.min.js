$(document).ready(function(){$("body").on("click",".ax-swatches-more",function(t){$(this).closest(".js-product-miniature").addClass("ax-show-swatches"),prestashop.emit("mustUpdateLazyLoad",null)}),$("body").on("click",".js-variant",function(t){t.preventDefault();t=this;$(t).hasClass("active")||prestashop.emit("clickAjaxVariant",{dataset:t.dataset,self:t})}),prestashop.on("clickAjaxVariant",function(s){$(s.self).closest(".js-product-miniature").addClass("variants-loader"),$(s.self).closest(".js-product-miniature").find(".js-variant").removeClass("active"),$(s.self).addClass("active");var t={tplProduct:s.dataset.tplProduct,imageType:s.dataset.imageType,idProduct:s.dataset.idProduct,idProductAttribute:s.dataset.idProductAttribute};$.post(opVariant.actions,t,null,"json").then(function(t){var a;t.success&&(a="",$(s.self).closest(".js-product-miniature").hasClass("ax-show-swatches")&&(a="ax-show-swatches"),(t=$(t.data.message).find(".js-product-miniature")).addClass(a),$(s.self).closest(".js-product-miniature").replaceWith(t),prestashop.emit("updatedProductAjax",null))}).fail(function(t){prestashop.emit("handleError",{eventType:"clickAjaxVariant",resp:t})})})});